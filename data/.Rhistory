df<- fread("glp1_tweets_combined_w_reup01.csv")
getwd()
setwd("../Documents/Github/newgal4/data")
library(data.table)
df<- fread("glp1_tweets_combined_w_reup01.csv")
head(df)
df<-df[conversation_id==id,]
dim(df)
df[, table("retweet_count")]
df[ table("retweet_count")]
df[ table(retweet_count)]
df[ ,table(retweet_count)]
df[ ,table(reply_count)]
df[ ,table(like_count)]
df[ ,table(quote_count)]
names(df)
table(
rowSums(
df[, .(retweet_count, reply_count, like_count, quote_count)
]
)
)
dim(df)
table(
rs<-rowSums(
df[, .(retweet_count, reply_count, like_count, quote_count)
]
)
)
df<-df[rs>0,]
df<- fread("glp1_tweets_combined_w_reup01.csv")
head(df)
df<-df[conversation_id==id,]
dim(df)
df[ ,table(retweet_count)]
df[ ,table(reply_count)]
df[ ,table(like_count)]
df[ ,table(quote_count)]
names(df)
table(
rs<-rowSums(
df[, .(retweet_count, reply_count, like_count, quote_count)
]
)
)
df[, rs:=rs]
df[, Engagement:=rs]
df[,rs:=NULL]
df<-df[df.Engagement>0,]
table(
rs<-rowSums(
df[, .(retweet_count, reply_count, like_count, quote_count)
]
)
)
df[, Engagement:=rs]
df[,rs:=NULL]
df<-df[df.Engagement>0,]
names(df)
df<-df[df$Engagement>0,]
df<-df[order(Engagement),]
df
df<-df[order(Engagement, decreasing=T),]
df
df$Engage_text<-df[, paste0("engagement=", df$Engagement
," (like=", df$like_count
, " retw=", df$retweet_count
, " reply=", df$reply_count
, " quote=", df$quote_count
, ")"
)
]
df$Engage_text
names(df)
df$author_name
df$author_username
df$id
df$link<-paste0("x.com/", df$author_username, "/status/", id)
df$link
df$link<-paste0("x.com/", df$author_username, "/status/", df$id)
df$link
df[,.(text_clean, Engage_text, link)]
?write.csv
write.csv(df[,.(text_clean, Engage_text, link)]
, row.names=F, col.names = F
, "toptweets.csv")
write.csv(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, row.names=F, col.names = F)
write.csv(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, row.names=F, col.names = FALSE)
write.csv2(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, row.names=F, col.names = FALSE)
write.csv2(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, row.names=F)
write.csv2(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, quote = TRUE
, row.names=F)
read.csv("toptweets.csv")
write.csv(df[,.(text_clean, Engage_text, link)]
, "toptweets.csv"
, quote = TRUE
, row.names=F)
?write.csv
read.csv("toptweets.csv")
